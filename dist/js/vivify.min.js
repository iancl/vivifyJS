//smskip:validation
/*
 * vivifyJS
 * version: 2.0.1
 * build date: 2015-03-03
 * PLEASE MAKE SURE YOU IMPORT THIS FILE AT THE END OF THE BODY
 */
!function(a,b,c){"use strict";function d(a){return a=/-ms-/g.test(a)?a.substring(1,a.length):a,a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function e(){return{p:[],pV:[],t:d(N.cssPref+"transition"),tV:"none"}}function f(b,c){var d;for(c=c||a,d=0;d<this.length;d++)b.call(c,this[d],d)}function g(b,c,d){return d=d||a,setTimeout(b.bind(d),c)}function h(a,b){return b=b||this,f.call(a,function(a){b.push(a)}),b}function i(a){throw new Error("[Vivify] "+a+".")}function j(a){var b;return a.nodeName?b=L.types.node:"string"==typeof a?b=L.types.str:a.length&&(b=L.types.arr),b}function k(a){return!!a.match(L.needPrefixRegex)}function l(b){f.call(b,function(c){var d,f,g=a.getComputedStyle(c,null),h=e();for(d in b.conf.props)f=k(d)===!0?N.cssPref+d:d,h.p.push(f),h.pV.push(g.getPropertyValue(d));b.conf.initialStyles.push(h)},b)}function m(a){var b,c=a.conf.initialStyles;f.call(a,function(d){var e;for(b in c)e=c[b],d.style[e.t]=e.tV,f.call(e.p,function(a,b){d.style[a]=e.pV[b]},a)},a)}function n(a){clearTimeout(a.conf.delayT),clearTimeout(a.conf.durationT),clearTimeout(a.conf.beginDOMRefresh),clearTimeout(a.conf.applyAnimationsDOMRefresh)}function o(a,b){b=b||{},"undefined"!=typeof b.loop&&(a.conf.loopCount=isNaN(b.loop)?b.loop:b.loop-1),"undefined"!=typeof b.onComplete&&(a.callback=b.onComplete),"undefined"!=typeof b.autorelease&&(a.conf.shouldAutorelease=b.autorelease)}function p(){q(),r()}function q(){var a=N.browser=Array.prototype.slice.call(b.defaultView.getComputedStyle(b.body,"")).join("").match(/(?:-(moz|webkit|ms|khtml)-)/);N.cssPref=a[0]}function r(){switch(N.browser[1]){case"moz":M.begin=50}}function s(a){g(function(){m(a)},M.min,this)}function t(a){s(a),a.conf.isAnimating=!1,a.conf.currentIndex=-1,a.conf.completedLoops=0}function u(a,b){(a.conf.isAnimating===!1||b===!0)&&(a.conf.initialStyles=[],a.conf.animations=[],a.conf.currentAnimation=null)}function v(){this.conf={},this.conf.animations=[],this.conf.props={},this.conf.initialStyles=[],this.conf.currentIndex=-1,this.conf.loopCount=0,this.conf.completedLoops=0,this.conf.isAnimating=!1,this.conf.shouldAutorelease=!0,this.conf.currentAnimation=c,this.conf.delayT=c,this.conf.durationT=c,this.conf.beginDOMRefresh=c,this.conf.applyAnimationsDOMRefresh=c}function w(a){return this.length=0,this.splice=Array.prototype.splice,this.push=Array.prototype.push,f.call(a,function(a){switch(j(a)){case L.types.node:this.push(a);break;case L.types.str:0===a.length&&i("string selector is empty"),h.call(this,b.querySelectorAll(a));break;case L.types.arr:h.call(this,a);break;default:i("constructor params not supported")}},this),this}function x(){var a=Array.prototype.slice.call(arguments,0)[0],b=h.call([],a);return 0===b.length&&i("constructor params invalid or undefined"),w.call(this,b)}function y(a,b){a.duration=b.duration,a.delay=b.delay,a.easing=L.easingFunctions[b.easing]||L.easingFunctions.linear,a.onComplete=b.onComplete}function z(a,b,c){var f,g,h=N.cssPref,i=e(),j="";for(f in b)g=k(f)===!0?h+f:f,j+=g+" "+a.duration+"ms "+a.easing+",",i.p.push(d(g)),i.pV.push(b[f]),"undefined"==typeof this.conf.props[f]&&(this.conf.props[f]=b[f]);j=j.substring(0,j.length-1),i.tV=j,a.transition=i,a.callback=c.onComplete}function A(a,b){var c={};y(c,b),z.call(this,c,a,b),this.conf.animations.push(c)}function B(a){var b=!0;return a.conf.currentIndex++,a.conf.currentIndex>a.conf.animations.length-1&&(a.conf.currentIndex=0,b=!1),a.conf.currentAnimation=a.conf.animations[a.conf.currentIndex],b}function C(a){a.conf.currentAnimation.callback&&a.conf.currentAnimation.callback.call(a),I(a)}function D(a){a.conf.durationT=g(function(){C(a)},a.conf.currentAnimation.duration,a)}function E(a){f.call(a,function(b){var c=a.conf.currentAnimation.transition;b.style[c.t]=c.tV,f.call(c.p,function(a,d){b.style[a]=c.pV[d]},a)},a),a.conf.applyAnimationsDOMRefresh=g(function(){D(a)},M.min,a)}function F(a){a.conf.currentAnimation.delay>0?a.conf.delayT=g(function(){E(a)},a.conf.currentAnimation.delay,a):E(a)}function G(a){t(a),a.callback&&a.callback.call(a),a.conf.shouldAutorelease!==!1&&a.release()}function H(a){s(a),g(function(){a.conf.currentIndex=-1,a.conf.completedLoops++,I(a)},M.loop,a)}function I(a){B(a)===!0?F(a):(a.conf.loopCount<1||a.conf.completedLoops===a.conf.loopCount)&&"infinite"!==a.conf.loopCount?G(a):H(a)}function J(a){a.conf.currentIndex=-1,I(a)}function K(a,b,c){n(a),u(a,!0),A.call(a,b,c),l(a),m(a),J(a)}var L={types:{node:"html",str:"str",arr:"arr"},needPrefixRegex:/border-image|box-reflect|box-sizing|filter|mask-image|transform|transition/i,easingFunctions:{linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out","ease-in-quad":"cubic-bezier(0.550, 0.085, 0.680, 0.530)","ease-out-quad":"cubic-bezier(0.250, 0.460, 0.450, 0.940)","ease-in-out-quad":"cubic-bezier(0.455, 0.030, 0.515, 0.955)","ease-in-sine":"cubic-bezier(0.470, 0.000, 0.745, 0.715)","ease-out-sine":"cubic-bezier(0.390, 0.575, 0.565, 1.000)","ease-in-out-sine":"cubic-bezier(0.445, 0.050, 0.550, 0.950)"}},M={min:0,begin:0,loop:20},N={},O=function(){return new O.fn.initialize(arguments)};O.fn=O.prototype={constructor:O,vivify_version:"2.0.1",vivify_author:"Ian Calderon",initialize:function(){return"undefined"==typeof this.conf?(v.apply(this,arguments),x.apply(this,arguments)):void 0},animate:function(a,b){return a&&b||i("cannot read animate params"),A.apply(this,arguments),this},begin:function(a){return this.conf.isAnimating!==!0?(this.conf.isAnimating=!0,l(this),o(this,a),this.conf.beginDOMRefresh=g(function(){I(this)},M.begin,this),this):void 0},stop:function(){return n(this),t(this),this},clear:function(){return this.conf.isAnimating!==!0?(u(this),this):void 0},override:function(a,b,c){return a&&b||i("cannot read override params"),K(this,a,b),o(this,c),this},isAnimating:function(){return this.conf.isAnimating},release:function(){var a;if(this.conf.isAnimating!==!0){for(a=0;a<this.length;a++)this[a]=null,delete this[a];return this.length=0,this.conf.animations=null,this.conf.initialStyles=null,this.callback=null,null}}},p(),O.fn.initialize.prototype=O.fn,a.Vivify=a.$v=O}(this,document);